#sp {turn-start*elaborate*copy-down-attrs
#   (state <s> ^name start-turn
#              ^superstate.operator <o>)
#   (<o> ^game-name <name>
#        ^turn-count <num>)
#-->
#   (<s> ^game-name <name>
#        ^turn-count <num>)
#}


sp {find-action*elaborate*copy-down-attrs
   (state <s> ^name find-action
              ^topstate.current-game.game <game>
              ^superstate.operator <o>)
   (<game> ^game-name <name>)
-->
   (<s> ^game-name <name>)
   (<s> ^game <game>)
}
sp {do-action*elaborate*copy-down-attrs
   (state <s> ^name do-action
              ^superstate.operator <o>)
   (<o> ^action <action>
        ^obj1 <oa>
        ^obj2 <ob>)
-->
   (<s> ^action <action>
        ^obj1 <oa>
        ^obj2 <ob>)
}

sp {do-action*elaborate*copy-down-attrs*relation
   (state <s> ^name do-action
              ^superstate.operator <o>)
   (<o> ^predicate <p>)
   (<p> ^relation <rel>)
-->
   (<s> ^_relation <rel>)
}

sp {check-valid-parameter*elaborate*copy-down-attrs
   (state <s> ^name check-valid-parameter
              ^superstate.operator <o>)
   (<o> ^arg <arg>
        ^cond <cond>
        ^objd <objd>
        ^found-prep <fprep>
        ^obj <obj>)
-->
   (<s> ^arg <arg>
        ^cond <cond>
        ^objd <objd>
        ^found-prep <fprep>
        ^obj <obj>)
}


sp {find-parameter*elaborate*copy-down-attrs
   (state <s> ^name find-parameter
              ^superstate.operator <o>)
   (<o> ^arg <arg>
        ^atr <atr>
        ^param <param>
#        ^found-prep <fprep>
        ^objd <objd>
        ^cond <conda>)
-->
   (<s> ^arg <arg>
        ^atr <atr>
        ^param <param>
        ^objd <objd>
#        ^found-prep <fprep>
        ^cond <conda>)
}

sp {find-parameter*elaborate*object-desc
   (state <s> ^name find-parameter)
   (<s> ^objd <objd>
        ^cond <conda>)
   (<conda> ^attribute.<type> <atr>)
-->
   (<objd> ^word <atr>)
}

sp {find-parameter*elaborate*found-possible-match
   (state <s> ^name find-parameter
              ^found-prep <fprep>)
   (<fprep> ^type <name>)
   (<s> ^found-possible <fp>)
   (<fp> ^prep <prep> ^obj <obj>)
   (<prep> ^name <name>)
-->
   (<fprep> ^obj <obj>)
}