# Creates a working memory cache of mappings, these are only those mappings that exist in working memory
# If an object is removed or changed then the mapping dissappears
# Only the smem mappings are long-term

sp {apply*init-agent*create*mappings
   (state <s> ^operator.name init-agent)
-->
   (<s> ^mappings <m>)
   (<m> ^word2cat <w2c> ^label-map <lm>)
   (<lm> ^gray.color color-gray)         
}

sp {mappings*elaborate*word2cat
   (state <s> ^topstate <s>
              ^object <obj>
              ^mappings.word2cat <w2c>)
   (<obj> ^property <prop>)
   (<prop> ^name <cat>
           ^type visual
           ^value.word <word>)
-->
   (<w2c> ^<word> <cat>)
}

sp {mappings*elaborate*label-map
   (state <s> ^topstate <s>
              ^object <obj>
              ^mappings.label-map <lm>)
   (<obj> ^property <prop>)
   (<prop> ^name <cat>
           ^type visual
           ^value <val>)
   (<val> ^label <label>
          ^word <word>)
-->
   (<lm> ^<word>.<cat> <label>)
}

